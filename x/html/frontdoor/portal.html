<link href="/x/html/layout/watchtower/css/white.application.min.css" rel="stylesheet">
<script src="/x/html/layout/watchtower/lib/jquery/jquery-2.0.3.min.js"> </script>

<script type="text/javascript" src="/x/html/layout/watchtower/lib/jquery-ui-1.10.3.custom.js"> </script>
    <script>
      // For IE11. May we one day live without your BS.
      Modernizr.addTest('preserve3d', function(){ return Modernizr.testAllProps('transformStyle', 'preserve-3d');});
    </script>

    <style type="text/css">
      body {   

      }
		.panel { 
		float               : left;
		width               : 100%;
		height              : 100%;
		margin              : 0;
		position            : absolute;
		left                : 0;
		top                 : 0;
		font-size           : .8em;
		border              : 0 !important;
		
		-webkit-perspective : 600px;
		-moz-perspective    : 600px;
		perspective         : 600px;




      }
      /* -- make sure to declare a default for every property that you want animated -- */
      /* -- general styles, including Y axis rotation -- */
	.panel .front { 
		float                       : none;
		position                    : absolute;
		top                         : 0;
		left                        : 0;
		z-index                     : 900;
		width                       : inherit;
		height                      : inherit;
		border                      : 0px solid #ccc;
		background                  : #6b7077;
		text-align                  : center;
		padding-top: 50px;
		/*box-shadow                : 0 1px 5px rgba(0,0,0,0.9);*/

		-webkit-transform           : rotateX(0deg) rotateY(0deg);
		-moz-transform              : rotateX(0deg) rotateY(0deg);
		transform                   : rotateX(0deg) rotateY(0deg);

		-webkit-transform-style     : preserve-3d;
		-moz-transform-style        : preserve-3d;
		transform-style             : preserve-3d;

		-webkit-backface-visibility : hidden;
		-moz-backface-visibility    : hidden;
		backface-visibility         : hidden;

		/* -- transition is the magic sauce for animation -- */
		-webkit-transition          : all .4s ease-in-out;
		transition                  : all .4s ease-in-out;

		background: rgb(204,204,204); /* Old browsers */
		background: -moz-linear-gradient(-45deg,  rgba(204,204,204,1) 0%, rgba(238,238,238,1) 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,rgba(204,204,204,1)), color-stop(100%,rgba(238,238,238,1))); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(-45deg,  rgba(204,204,204,1) 0%,rgba(238,238,238,1) 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(-45deg,  rgba(204,204,204,1) 0%,rgba(238,238,238,1) 100%); /* Opera 11.10+ */
		background: -ms-linear-gradient(-45deg,  rgba(204,204,204,1) 0%,rgba(238,238,238,1) 100%); /* IE10+ */
		background: linear-gradient(135deg,  rgba(204,204,204,1) 0%,rgba(238,238,238,1) 100%); /* W3C */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#cccccc', endColorstr='#eeeeee',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */

      }
      .panel.flip .front { 
		z-index           : 900;
		border-color      : #eee;
		 
		/*box-shadow      : 0 15px 50px rgba(0,0,0,0.2);*/
		
		-webkit-transform : rotateY(180deg);
		-moz-transform    : rotateY(180deg);
		transform         : rotateY(180deg);
      }

  	.panel .back { 
		float                       : none;
		position                    : absolute;
		top                         : 0;
		left                        : 0;
		z-index                     : 800;
		width                       : inherit;
		height                      : inherit;
		border                      : 1px solid #ccc;
		/*background                : #333;*/
		border-radius               : 20px;
		
		-webkit-transform           : rotateY(-180deg);
		-moz-transform              : rotateY(-179deg); /* setting to 180 causes an unnatural-looking half-flip */
		transform                   : rotateY(-179deg);

		-webkit-transform-style     : preserve-3d;
		-moz-transform-style        : preserve-3d;
		transform-style             : preserve-3d;

		-webkit-backface-visibility : hidden;
		-moz-backface-visibility    : hidden;
		backface-visibility         : hidden;

		/* -- transition is the magic sauce for animation -- */
		-webkit-transition          : all .4s ease-in-out;
		transition                  : all .4s ease-in-out;


  	}

      .panel.flip .back { 
		z-index           : 1000;
		/*background      : #80868d;*/
		
		border-radius     : 20px;
		padding-top       : 50px;
		-webkit-transform : rotateX(0deg) rotateY(0deg);
		-moz-transform    : rotateX(0deg) rotateY(0deg);
		transform         : rotateX(0deg) rotateY(0deg);
		
		box-shadow        : 0 15px 50px rgba(0,0,0,0.2);
		
		background        : rgb(254,255,255); /* Old browsers */
		background        : -moz-linear-gradient(top,  rgba(254,255,255,1) 0%, rgba(210,235,249,1) 100%); /* FF3.6+ */
		background        : -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(254,255,255,1)), color-stop(100%,rgba(210,235,249,1))); /* Chrome,Safari4+ */
		background        : -webkit-linear-gradient(top,  rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* Chrome10+,Safari5.1+ */
		background        : -o-linear-gradient(top,  rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* Opera 11.10+ */
		background        : -ms-linear-gradient(top,  rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* IE10+ */
		background        : linear-gradient(to bottom,  rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* W3C */
		filter            : progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff', endColorstr='#d2ebf9',GradientType=0 ); /* IE6-9 */


      }

.panel .back .navbar *{ 
 	/* -- transition is the magic sauce for animation -- */
		-webkit-transition          : all .1s linear;
		transition                  : all .1s linear;
}

      /* -- X axis rotation for click panel -- */
      .click .front { 
        cursor: pointer;
        -webkit-transform: rotateX(0deg);
           -moz-transform: rotateX(0deg);
                transform: rotateX(0deg);
      }
      .click.flip .front { 
        -webkit-transform: rotateX(180deg);
           -moz-transform: rotateX(180deg);
                transform: rotateX(180deg);
      }
      .click .back { 
        cursor: pointer;
        -webkit-transform: rotateX(-180deg);
           -moz-transform: rotateX(-180deg);
                transform: rotateX(-180deg);
      }
      .click.flip .back { 
        -webkit-transform: rotateX(0deg);
           -moz-transform: rotateX(0deg);
                transform: rotateX(0deg);
      }
 
      /* -- cosmetics -- */
      .panel .pad { padding: 0 15px; }
      /*.panel.flip .action { display: none; }*/
      .block ol li { text-align: left; margin: 0 0 0 28px; }
      /*.block .action { display: block; padding: 3px; background: #333; text-align: right; font-size: .8em; opacity: 0; position: absolute; cursor: pointer; -webkit-transition: opacity .2s linear; }*/
      /*.block:hover .action { opacity: .7; }*/
      .circle div {  border-radius: 100px; width: 100px; }
      .circle div h2 {  padding-top: 3em; text-align: center; }

    </style>
    <script>
      $(document).ready(function(){ 

        // set up hover panels
        // although this can be done without JavaScript, we've attached these events
        // because it causes the hover to be triggered when the element is tapped on a touch device
         
        // set up click/tap panels
        $('.click').toggle(function(){ 
          $(this).addClass('flip');
        },function(){ 
          $(this).removeClass('flip');
        });

        // set up block configuration
        $('.block .action').click(function(){ 
          $('.block').addClass('flip');
        });
        $('.block .edit-submit').click(function(e){ 
          $('.block').removeClass('flip');

          // why not update that list for fun?
          
          e.preventDefault();
        });
 

      });
    </script>
     


    <div class="block panel">
      <div class="front">
        <!-- Fixed navbar -->
        <style type="text/css">
        	body > .container {
        		padding-top: 50px;
        	}
        </style>
	    <div class="navbar navbar-default navbar-fixed-top navbar-inverse"  role="navigation">
	      <div class="container">
	        <div class="navbar-header">
	          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	            <span class="sr-only">Toggle navigation</span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	          </button>
	          <a class="navbar-brand" href="#"></a>
	        </div>
	        
	        <div class="navbar-collapse collapse text-center">
	          <ul class="nav navbar-nav navbar-right text-right">
	            <li class="action "><a href="#"><i class="fa fa-home text-success"></i> Home</a></li>
	            <!-- TODO: Add Navigation Here -->
	            {foreach $navi as $n => $link}
                    {if $link.parent == 0} 
                        {include file="~blox/godbar/navi.nest.html" link=$link} 
                    {/if} 
                {/foreach}
	          </ul>
	          
	          <ul class="nav navbar-nav navbar-left">
	           
	            <li >
	            	<a class="action" style="cursor: pointer" >
	            		<i class="fa fa-sun-o text-danger"></i> God Mode
	            	</a>
	            </li>
	            <li class="active">
	            	<a href="{$SERVER.REQUEST_URI}">
	            		<span class="label label-info"><i class="fa fa-2x fa-globe fa-spin-slow"></i> Public Mode</span></a>
	            </li>
	          </ul>
	        </div><!--/.nav-collapse -->
	      </div>
	    </div>
        <div class="content">
        	
        </div>
        <!-- <div class="click panel circle">
          <div class="front">
            <h2>Click or tap this circle!</h2>
          </div>
          <div class="back">
            <h2>Tap Again!</h2>
          </div>
        </div> -->
      </div>
      <div class="back">
        <div class="pad">
        	<!-- Fixed navbar -->
			<div class="navbar navbar-default navbar-fixed-top"  role="navigation">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#"></a>
						</div>
						<div class="navbar-collapse collapse text-center ">

						<div class="btn-group" style="padding-top: 10px;">
						<!-- <img src="{$thumb}src=/bin/images/logos/sdx.png&h=10" class=""> -->
							<button class="btn btn-info disabled  btn-sm"> 
							<strong><i class="fa fa-globe"></i></strong>
							</button>	
							<button class="btn btn-info   btn-sm"> 
							<strong>{$SVR['SERVER_NAME']}</strong>
							</button>	
							<button class="btn btn-success active btn-sm"> 
							<strong>{$SVR['REQUEST_URI']}</strong>
							</button>	

							<button class="active btn btn-success  text-primary  btn-sm" style="cursor: pointer; " onmousedown="onlineBtn.m(this,'over');"   > 
							<strong><i class="fa fa-eye"></i> Online <i class="fa fa-eye"></i></strong>
							</button>
							 
<button class="btn btn-sm dropdown-toggle" data-toggle="dropdown">
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a ><i class="fa fa-cubes"></i> Blox</a></li>
    <li><a ><i class="fa fa-language"></i> Mirror</a></li>
    <li><a ><i class="fa fa-link"></i> Link</a></li>
    
  </ul>
						</div>
						<script type="text/javascript">
						 	var onlineBtn = {
								mouseover  : false, 
								m: function  (t,i) {

						 			function toggle () {
						 				$(t).toggleClass('text-primary'); 
										if(!$(t).hasClass('text-primary')){ 
											$(t).toggleClass('btn-danger');
											$(t).html('<strong><i class="fa fa-eye-slash"></i> OFFLINE <i class="fa fa-eye-slash"></i></strong>');
										}else{
											$(t).toggleClass('btn-danger');
											$(t).html('<strong><i class="fa fa-eye"></i> Online <i class="fa fa-eye"></i></strong>');
										}; 
						 			}

						 			toggle();
									 

						 			
						 		} 
						 	};
						</script>
						<ul class="nav navbar-nav navbar-right" id="admin_menu">

						<li class="dropdown" ><a href="/x/" class="text text-danger">
							<i class="fa fa-dashboard text-danger"></i> <strong class=" text text-success">Super</strong><span class="text-info">Dom</span>
							</a>
						</li>
						<li class="dropdown active" ><a   class="dropdown-toggle "  data-toggle="dropdown">
							<i class="fa  fa-spin-reverse fa-cubes"></i> Toy Blox <b class="caret"></b>
							</a>
								<ul class="dropdown-menu" id="toy-blox-menu">
									{foreach $admin_menu as $key => $item}
										{assign var="hasBlox" value=false}
										{foreach $xtras as $x => $xtra} 
											{if $xtra.icon && $key == $xtra.see}
												{if $blox[$xtra.class]}
													{assign var="hasBlox" value=true}
												{/if}
											{/if}
										{/foreach}

										{if $key && $hasBlox == true}  
											<li class="dropdown-submenu">
												<a data-filter="{$key}" href="/blox/qBlox/{$key}" class="dropdown-toggle" data-toggle="dropdown" title="{$item.desc|ucfirst}"><i class="fa fa-{$key} pull-right"></i> {$item.area|ucfirst} <!-- <i class="fa fa-caret-right"></i> --></a>
												<ul class="dropdown-menu">
												{foreach $xtras as $x => $xtra}



													{if $xtra.icon && $key == $xtra.see}
														{if $blox[$xtra.class]}
															<li class="dropdown-submenu"><a data-filter="{$xtra.class}" href="/blox/qBlox/{$key}/{$xtra.class}" title="{$xtra.desc}"  data-placement="top" data-original-title="{$xtra.desc}" class="{if $xtra.alpha}panel-danger{elseif $xtra.beta}panel-warning{elseif $xtra.delta}panel-success{elseif $xtra.omega}panel-primary{else}panel-default" disabled="disabled{/if}" > 



																<i class="fa fa-{$xtra.mini}  pull-right"></i> {$xtra.name} 
																</a>
																<ul class="dropdown-menu">
																	{foreach $blox[$xtra.class] as $b => $y}
																		<li><a data-filter="{$y.name}" href="/blox/qBlox/{$key}/{$xtra.class}/{$y.name}" title=" "  data-placement="top" data-original-title=" " class=" " disabled=" " >
																		<i class="fa fa-{$y.icon}  pull-right"></i> {$y.blox} 
																</a>
																	{/foreach}
																</ul>
															</li>  
														{/if}
													{/if}
												{/foreach} 
											</ul>
											</li> 
										{/if}
									{/foreach} 
								</ul>
						</a>

							 
						</ul>



						<ul class="nav navbar-nav navbar-left"> 
							<li class="active">
								<a class="text-success text-center">
									<span class="label label-success"> <i class="fa fa-2x fa-sun-o fa-spin-slow"></i> God Mode</span>
								</a>
							</li>
							<li>
								<a class="edit-submit" style="cursor: pointer">
									<i class="fa fa-globe text-info"></i> Public Mode
								</a>
							</li>
						</ul>



					</div><!--/.nav-collapse -->
				</div> 

			<script src="/x/html/layout/watchtower/js/app.js"></script>
				
			</div>
			<div id="paper-back"  data-pjax-container>
				{include file="frontdoor/blox/qBlox.html"}
			</div>
        </div>
      </div>
    </div>
    <style type="text/css">

    #toy-blox-menu *, .hover {
    	/* -- transition is the magic sauce for animation -- */
		-webkit-transition          : all .3s linear;
		transition                  : all .3s linear;
    }

    </style>
    <script type="text/javascript">
	//Product board filtering 
	$(document).on('click', '#toy-blox-menu a', function(e){
		$filter = $(this);

		// $('#toy-blox-menu a').removeClass('filter-hidden');


		if($filter.data('filter') == 'all'){
			//show all
			$('.blox').show();
			$filter.addClass('label-success');			
		}
		else{
			if(!$filter.hasClass('label-success')){
				//hide
				$('.'+$filter.data('filter')).show();

				$('#toy-blox-menu a').removeClass('label-success');

				$('.blox').not('.'+$filter.data('filter')).not('.static').hide();
				$filter.addClass('label-success');
			}
			else{
				//show
				$('.blox').not('.'+$filter.data('filter')).show();
				$filter.removeClass('label-success');
			}
		} 
		// reflow masonry		
		// $('#product-board').masonry();
		// alert('owos');
		e.preventDefault();
		return false;
	});


    $(document).ready(function() {
    	// $('.blox').sortable(); 
    	$('.blox .hover').click(function() { 

    		if($(this).hasClass('activeBlox')){
    			$('#windowTitleDialog .btn-success').addClass('active'); 
    			$('#windowTitleDialog .btn-danger').removeClass('active');
    		}else{
    			$('#windowTitleDialog .btn-success').removeClass('active'); 
    			$('#windowTitleDialog .btn-danger').addClass('active');
    		};

    		var i = $('#windowTitleDialog h2 i');
			
    		i.attr('class','').addClass('fa fa-5x');

			i.addClass('fa-'+$(this).attr('icon'));

			i.attr({
				id : 'icon-'+$(this).attr('id')
			});

			var s = $('#windowTitleDialog h2 span');
			s.html($(this).attr('title'));
  

    	});

    	$('#admin_menu ul a').click(function (e) {
    		$.pjax({ 
				container : '#paper-back',
				fragment  : '.content',
				timeout   : 9000,
				url       : $(this).attr('href')
			});

			e.preventDefault();
    		// body...
    	});

    	//$(document).pjax('a', '#paper-back', { fragment: '#content' });
    	
    });
	 

    </script>
    <!-- End Switch Panel -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
   

<script src="/x/html/layout/watchtower/lib/jquery-pjax/jquery.pjax.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed --> 

    <!-- Latest compiled and minified JavaScript -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

<div id="windowTitleDialog" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="windowTitleLabel" aria-hidden="true" style="  overflow: hidden; position: absolute;    background-color : rgba(0,0,0,0.80);">
	<div class=" text-center">
		<!-- <a href="#" class="close" data-dismiss="modal">&times;</a> -->
		<h2 style="color: white;">
			<i class="fa fa-5x"></i><br/><span></span>
		</h2>  
		<div class="btn-group">
			<a href="#" class="btn btn-left btn-success btn-lg" onclick="bloxSwitch(true);">
				<i class="fa fa-eye"></i> On
			</a>
			<a href="#" class="btn btn-left btn-info btn-lg active" onclick="$(this).toggleClass('active')">
				<i class="fa fa-graduation-cap"></i>
			</a>
			<a href="#" class="btn btn-right btn-danger btn-lg" onclick="bloxSwitch(false);">
				Off <i class="fa fa-eye-slash"></i>
			</a>
		</div> 
	</div> 
</div>


