<style>

	.print {
		background: rgb(30,87,153); /* Old browsers */
		background: -moz-linear-gradient(top, rgba(30,87,153,1) 0%, rgba(41,137,216,1) 30%, rgba(32,124,202,1) 68%, rgba(125,185,232,1) 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(30,87,153,1)), color-stop(30%,rgba(41,137,216,1)), color-stop(68%,rgba(32,124,202,1)), color-stop(100%,rgba(125,185,232,1))); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* Opera11.10+ */
		background: -ms-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* IE10+ */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#7db9e8',GradientType=0 ); /* IE6-9 */
		background: linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* W3C */
		
	}

	.blue .topTilt{ 
		-webkit-box-shadow: 00px 5px 20px rgba(0,0,0,0.25);
		
		  
		 
		 border: 20px solid #fff4de; 
		 z-index: 10;
		  border-bottom: 0px;
	}
	.blue  .middleTilt{ 
		-webkit-box-shadow: 00px 5px 20px rgba(0,0,0,0.25);
	   
	   border: 20px solid #e6dac4; 
		  
		 z-index: 9;
		  border-top: 0px;
		  
		  border-bottom: 0px;
	 background: rgb(30,87,153); /* Old browsers */
		background: -moz-linear-gradient(bottom, rgba(30,87,153,1) 0%, rgba(41,137,216,1) 30%, rgba(32,124,202,1) 68%, rgba(125,185,232,1) 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(30,87,153,1)), color-stop(30%,rgba(41,137,216,1)), color-stop(68%,rgba(32,124,202,1)), color-stop(100%,rgba(125,185,232,1))); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(bottom, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(bottom, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* Opera11.10+ */
		background: -ms-linear-gradient(bottom, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* IE10+ */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#7db9e8',GradientType=0 ); /* IE6-9 */
		background: linear-gradient(bottom, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* W3C */
		
	}
	
	 .blue .middleTilt2{ 
		-webkit-box-shadow: 0px 5px 20px rgba(0,0,0,0.25);
	   
		 border: 20px solid #fff4de; 
		 
		 z-index: 9;
		  border-top: 0px;
		  
		  border-bottom: 0px;
	 background: rgb(30,87,153); /* Old browsers */
		background: -moz-linear-gradient(top, rgba(30,87,153,1) 0%, rgba(41,137,216,1) 30%, rgba(32,124,202,1) 68%, rgba(125,185,232,1) 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(30,87,153,1)), color-stop(30%,rgba(41,137,216,1)), color-stop(68%,rgba(32,124,202,1)), color-stop(100%,rgba(125,185,232,1))); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* Opera11.10+ */
		background: -ms-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* IE10+ */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#7db9e8',GradientType=0 ); /* IE6-9 */
		background: linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 30%,rgba(32,124,202,1) 68%,rgba(125,185,232,1) 100%); /* W3C */
		
	}
	
	 .blue .bottomTilt{ 
		-webkit-box-shadow: 0px 5px 20px rgba(0,0,0,0.25);
	  	  border-top: 0px;
	   border: 20px solid #e6dac4;
	    border-top: 0px;
	}
	
	.blue{
		-webkit-perspective: 300;
		width: 96%;
		height: 95%;
		color	: white;
		margin	:2%;
	}
	
	#disabled-blox-containter{
	text-align: center;
		padding: 15px;
		-webkit-box-shadow: -50px 50px 50px rgba(0,0,0,0.25);
		-webkit-border-radius	: 50px;
		border: 5px outset silver;
		position: fixed;
		top: 25%;
		right: 10%;
		width: 225px;
		height: 450px;
		overflow: hidden;
		z-index: 10000000;
		
	 background: rgb(30,87,153); /* Old browsers */
		background: -moz-linear-gradient(top, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 85%, rgba(200,200,200,1) 85%, rgba(200,200,200,1) 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,0,0,1)), color-stop(85%,rgba(0,0,0,1)), color-stop(100%,rgba(200,200,200,1))); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top, rgba(0,0,0,1) 0%,rgba(0,0,0,1) 85%, rgba(200,200,200,1) 85%,rgba(200,200,200,1) 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top, rgba(0,0,0,1) 0%,rgba(0,0,0,1) 85%, rgba(200,200,200,1) 85%,rgba(200,200,200,1) 100%); /* Opera11.10+ */
		background: -ms-linear-gradient(top, rgba(0,0,0,1) 0%,rgba(0,0,0,1) 85%, rgba(200,200,200,1) 85%,rgba(200,200,200,1) 100%); /* IE10+ */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#7db9e8',GradientType=0 ); /* IE6-9 */
		background: linear-gradient(top, rgba(0,0,0,1) 0%,rgba(0,0,0,1) 85%, rgba(200,200,200,1) 85%,rgba(200,200,200,1) 100% ); /* W3C */
		
	
	}
	
	#disabled-blox-containter li{
		width: auto; 
		background-color: #222;
		border-bottom: 1px solid #444;
		border-top: 1px solid #222;
		color: white;
		padding: 15px;
		display: table-cell-block;
		cursor: move;
		vertical-align: middle;
		font-size: 12px;
		font-weight: bold;
	}
	
	#disabled-blox-containter legend{
		background-color: #fafafa;
		font-weight: bold;
		padding: 2px 0 2px 5px ; 
		font-size: 10px;
		width	: 100%;
	}
	
	#disabled-blox-containter fieldset{
		width	: 100%;
		height: 100%;
	text-align: left;
		margin: 8% 0px 5%;
		max-height	: 70%;
		width: 97%;
		overflow: auto;
		padding: 0px;
		-webkit-border-radius: 5px;
		border: 1px inset #555;
		overflow-x: hidden;
	}
	
	#disabled-blox-containter button{
		width: 20%;
		border: 1px outset #aaa;
		margin: 0px;
		padding: 2px;
		-webkit-border-radius: 1px;
		background: rgb(155,155,155); /* Old browsers */
			background: -moz-linear-gradient(top, rgba(155,155,155,1) 0%, rgba(219,220,226,1) 21%, rgba(184,186,198,1) 49%, rgba(221,223,227,1) 80%, rgba(175,175,175,1) 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(155,155,155,1)), color-stop(21%,rgba(219,220,226,1)), color-stop(49%,rgba(184,186,198,1)), color-stop(80%,rgba(221,223,227,1)), color-stop(100%,rgba(175,175,175,1))); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(top, rgba(155,155,155,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,227,1) 80%,rgba(175,175,175,1) 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(top, rgba(155,155,155,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,227,1) 80%,rgba(175,175,175,1) 100%); /* Opera11.10+ */
			background: -ms-linear-gradient(top, rgba(155,155,155,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,227,1) 80%,rgba(175,175,175,1) 100%); /* IE10+ */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9b9b9b', endColorstr='#afafaf',GradientType=1 ); /* IE6-9 */
			background: linear-gradient(top, rgba(155,155,155,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,227,1) 80%,rgba(175,175,175,1) 100%); /* W3C */
	 
	}
	
	
	.blue li img{ margin: 5px;}
	
	.blue li{
		border: 2px solid white;
		border-left: 0;
		border-top: 0;	
		padding: 10px;
		margin: 10px;
		width: 125px;
		float: left;
		font-size: 10px; 
		text-transform: uppercase;
		font-family: arial;
		-webkit-border-radius: 10px;
		z-index: 2000;
		cursor: move;
		
		 
		
	}
	.blue ul{
	width: 100%;
	height: 100%;
	}
	
	.blue fieldset{
		border: 3px solid white;
		 -webkit-border-radius: 10px;
		padding: 5px;
		border-top:0;
		margin: 2%;
		width: 95%;
		float: left;
		min-height: 75px;
		-webkit-border-radius: 0;
	}
	
	.blue legend{
		font-size: 20px;
		text-transform: lowercase; 
		text-align: center;
		vertical-align: bottom;
	
	}
	
</style> 

	<div id="disabled-blox-containter">
		<div style="background-color: #222; width: 20%; margin: 10px 0 10px 40%; height: 5px; border: 1px inset #555; -webkit-border-radius: 5px;"></div>
		
		<img src="{$phpThumb}src={$site_logo}&h=20&fltr[]=gray"/><br/>
		<fieldset>
			<legend>Not-in-use</legend>
		
		<ul id="disabled-blox" class="connectedSortable fade-area blox">
			{counter start=0 print=false}
			{foreach from=$xBlox item=x}
				{if $x.enabled == 0}
					<li id='blox_{$x.id}' title="{$x.describe}"><img align="absmiddle" src="{$ICON.16}/brick.png" align="left"/>
					{$x.name}<br/>
					<span style="font-size: xx-small; font-weight: normal">{$x.describe}</span>
					</li>
				
				{/if}
			{/foreach}
		</ul>
		</fieldset> 
		<img src="{$phpThumb}src=/bin/images/logos/sdx.png&h=20&fltr[]=gray"/><br/><br/>
		<button></button>
		<button></button>
		<button></button>
		<button></button>
	</div>
<div id="blox-jar">
	<table class="blue" align="center" cellspacing="0" cellpadding="0">
		<tr>
			<td class="topTilt print">
			
			
				<button style="float: right; width: 100px" class="punch"> Libraries <img src="{$ICON.16}/book_open.png" align="absmiddle"/> </button>
				<fieldset>
						<legend>Head</legend>
						{$site_name}
				</fieldset>
			
			</td></tr> 
			<tr><td class="middleTilt print">
				<fieldset>
					<legend>Face</legend>
					<ul id="face-blox" class="connectedSortable fade-area">
					{counter start=0 print=false}
						{foreach from=$xBlox item=x}
							{if $x.area == 'face' && $x.enabled}
								<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/brick.png" align="left"/> {$x.name}</li>
							{/if}
						{/foreach}
					</ul>
				</fieldset>	
			</td></tr>
			<tr><td class="middleTilt2 print">
			<fieldset >
					<legend>Neck</legend>
					<ul id="neck-blox" class="connectedSortable  fade-area">
					
						{counter start=0 print=false}
						{foreach from=$xBlox item=x}
							{if $x.area == 'neck' && $x.enabled}
								<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/brick.png" align="left"/> {$x.name}</li>
							{/if}
						{/foreach}
					
					</ul>
				</fieldset>
			</td></tr> 
			<tr><td class="middleTilt print">
			
			<table width="95%" align="center" cellspacing=0 cellpadding=0>
				<tr>
					<td width="20%" valign="top">
					
						<fieldset   >
							<legend>Left Arm</legend>
							<ul id="left-blox" class="connectedSortable  fade-area">
								{counter start=0 print=false}
								{foreach from=$xBlox item=x}
									{if $x.area == 'left' && $x.enabled}
										<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/brick.png" align="left"/> {$x.name}</li>
									{/if}
								{/foreach}
							</ul>
						</fieldset>
					</td>
					<td width="60%" valign="top">
							<fieldset  >
								<legend>Body</legend>
							<ul id="torso-blox" class="connectedSortable  fade-area">
								{counter start=0 print=false}
								{foreach from=$xBlox item=x}
									{if $x.area == 'torso' && $x.enabled}
										<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/brick.png" align="left"/> {$x.name}</li>
									{/if}
								{/foreach}
							</ul>
						</fieldset>
					</td>
					<td width="20%" valign="top">
					<fieldset  >
					<legend>Right Arm</legend>
					<ul id="right-blox" class="connectedSortable  fade-area">
						{counter start=0 print=false}
						{foreach from=$xBlox item=x}
							{if $x.area == 'right' && $x.enabled}
									<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/brick.png" align="left"/> {$x.name}</li>
							{/if}
						{/foreach}
					</ul>
				</fieldset>
					</td>
				</tr>
			</table>
			
				
				
			</td></tr>
			<tr><td class="middleTilt2 print">
				<fieldset >
					<legend>Legs</legend>
					
					<ul id="legs-blox" class="connectedSortable  fade-area blox">
						{counter start=0 print=false}
						{foreach from=$xBlox item=x}
							{if $x.area == 'legs' && $x.enabled}
								<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/brick.png" align="left"/> {$x.name}</li>
							{/if}
						{/foreach}
					</ul>
				</fieldset>
			
			</td></tr> 
			<tr><td class="middleTilt bottomTilt print">
				<fieldset >
					<legend>Feet</legend>
					
					<ul id="foot-blox" class="connectedSortable  fade-area blox">
						{counter start=0 print=false}
						{foreach from=$xBlox item=x}
							{if $x.area == 'foot' && $x.enabled}
								<li id='blox_{$x.id}' title="{$x.describe}"><img src="{$ICON.16}/{if $x.icon}{$x.icon}{else}brick.png{/if}" align="left"/> {$x.name}</li>
							{/if}
						{/foreach}
					</ul>
				</fieldset>
			</td></tr>
	</table>
	 </div>
<script><!--
// Disable Selection!
	//var element = document.getElementById('blox-jar');
	//element.onselectstart = function () { return false; } // ie
	//element.onmousedown = function () { return false; } // mozilla

var updateOrder = function(area){
	var serial = $('#'+area+'-blox').sortable('serialize');
	 $.get('/{$toBackDoor}/blox/updateOrder/'+area+'/?'+serial,function(data){
		 var sb = Ext.getCmp('blox-statusbar');
	     sb.setStatus({
	         text: data, 
	         clear: true // auto-clear after a set interval
	     }); 
	});
 
	 
	 
};

$("#left-blox, #right-blox").sortable({
	connectWith: '.connectedSortable',
	cursorAt: { cursor: 'crosshair', bottom: 25, right: 25 },
	opacity: 0.6,
	helper: 'clone',
	cancel: '.ui-state-disabled',
	update: function(event, ui) {
		 updateOrder('left');
		 updateOrder('right');
	}
});

$("#disabled-blox").sortable({
	connectWith: '.connectedSortable',
	update: function(event, ui) {
		 updateOrder('disabled');
	} 
});

$("#face-blox").sortable({
	connectWith: '.connectedSortable',
	update: function(event, ui) {
		updateOrder('face');
	} 
});

$("#neck-blox").sortable({
	connectWith: '.connectedSortable',
	update: function(event, ui) {
		updateOrder('neck');
	} 
});

$("#torso-blox").sortable({
	connectWith: '.connectedSortable',
	cancel: '.ui-state-disabled',
	update: function(event, ui) {
		updateOrder('torso');
	} 
});

$("#foot-blox").sortable({
	connectWith: '.connectedSortable',
	update: function(event, ui) {
		updateOrder('foot');
	} 
});


$("#legs-blox").sortable({
	connectWith: '.connectedSortable',
	update: function(event, ui) {
		updateOrder('legs');
	} 
});



$('#blox-jar li').dblclick(function(e){
	// Load Blox Details
	$('#dim-the-lights').fadeIn();
	//var click = $('#dim-the-lights').click;
	$('#dim-the-lights').click(function(){
		$("#edit-blox-details").slideUp();
		this.click();
	})
	
	var id = this.id.replace('blox_','');
	//window.open('/{$toBackDoor}/{$Xtra}/create/'+id+'/?html','editblox','menubar=1,resizable=1,width=400,height=350');

	var win = x4.Window({
		width	: 700,
		height	: 400,
		title	: 	'Edit Blox',
		iconCls	: 	'x-icon-16x16-bricks',
		frame	: true,
		layout	: 'fit', 
		modal	: true,
		id		: 'edit-blox-'+id,
		items	: [{
			autoScroll: true,
			bodyCfg: {
			    tag: 'iframe',
			    src	: '/{$toBackDoor}/{$Xtra}/create/'+id+'/?html',
			}
			 
		} ]
	}).show(e.target);
		
});

--></script>