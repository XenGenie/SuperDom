{literal}
	<script type="text/javascript" >
		$(function(){
			var user_list = x4.Window({
				title	: 'User List',
				iconCls	: 'x-icon-16x16-group_blue',
				id		: 'users',
				layout	: 'fit', 
				maximized: true,
				height	: $(document.body).height()-$('#shortcut-panel').outerHeight()-$('#neck-breadcrumbs').outerHeight()-40,
				tbar	: [{
					text: ' Email Newsletter',
					iconCls: 'x-icon-32x32-podcast',
					scale	: 'large',
				
				},'-',{
					text: 'Email User',
					iconCls: 'x-icon-32x32-new_mail',
					scale	: 'large',
				},'-',{
					text: 'View Profile',
					iconCls: 'x-icon-32x32-user',
					scale	: 'large',
				}],
				items	: new Ext.grid.EditorGridPanel({
					store: new Ext.data.Store({
						reader	: new Ext.data.JsonReader({
							fields	: {/literal}{$fields}{literal}
						}),
						
				        data	: {/literal}{$all_users}{literal}
				    }),
				    colModel: new Ext.grid.ColumnModel({
				        defaults: {
				            width: 120,
				            sortable: true,
				            editable: true
				        },
				        columns: {/literal}{$columns}{literal},
				    }),
				    viewConfig: {
				        forceFit: true,
				
				//      Return CSS class to apply to rows depending upon data values
				
				        
				    },
				    sm: new Ext.grid.RowSelectionModel({singleSelect:true}),
				    
				    frame: true,
				    iconCls: 'icon-grid'
				})
			});
		
			user_list.show()
		});
	</script>
{/literal}
